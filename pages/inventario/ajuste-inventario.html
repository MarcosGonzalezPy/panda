<html >
<body>
<!--<head>-->
<!--<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.8/angular.js"></script>-->
<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">-->
<!--</head>-->

<div class="panel panel-primary">
    <div class="panel-heading">Ajuste Inventario</div>
    <div class="panel-body" >
        <form ng-submit="add()" class="form-horizontal">
            <div class="col-lg-4">

                <div class="form-group margin-bottom-5">
                    <label class="col-sm-5 control-label">Autorizante:</label>
                    <div class="col-sm-7">
                        <select id="usuario"  class="form-control input-sm"
                                ng-model=datos2.autorizante>
                            <option value> --Seleccionar --</option>
                            <option ng-repeat="c in listaUsuarios"
                                    value="{{c.usuario}}">{{c.usuario}}</option>
                        </select>
                    </div>

                </div>
                <div class="form-group margin-bottom-5">
                    <label class="col-sm-5 control-label">Codigo:</label>
                    <div class="col-sm-7">
                        <input class="form-control input-sm" name="codigo" class="nopadding col-sm-7" ng-model="datos.codigo"
                               ng-blur="buscarArticulo()">
                    </div>

                </div>

                <div class="form-group margin-bottom-5">
                    <label class="col-sm-5 control-label">Codigo Barra:</label>
                    <div class="col-sm-7">
                        <input class="form-control input-sm" name="codigoBarra" class="nopadding col-sm-7"  ng-model="datos.codigoBarra"
                               ng-blur="buscarArticulo()">
                    </div>


                </div>



            </div>
            <div class="col-lg-8">
                <div class="form-group margin-bottom-5">
                    <label class="col-sm-2 control-label">Documento:</label>
                    <div class="col-sm-10  ">
                        <input type="text"   maxlength="200" required   class="form-control input-sm"  ng-model="datos2.documento"/>
                    </div>
                </div>
                    <div class="form-group margin-bottom-5">
                    <label class="col-sm-2 control-label">Descripcion:</label>
                    <div class="col-sm-10">
                        <input class="form-control input-sm" list="descripcion" name="descripcion" ng-model="datos.descripcion" class="nopadding col-sm-8"
                               ng-blur="buscarArticulo()">
                        <datalist id="descripcion" >
                            <option ng-repeat="c in listaArticulos"
                                    value="{{c.descripcion}}">{{c.descripcion}}</option>
                            <!--<option value="Notebook Acer">-->
                            <!--<option value="Notebook Toshiba">-->
                            <!--<option value="Monitor">-->
                            <!--<option value="Cagador">-->
                            <!--<option value="Teclado">-->
                        </datalist>
                    </div>
                </div>
                <div class="form-group margin-bottom-5">
                    <div class="col-sm-4">
                        <div class="form-group margin-bottom-5">
                            <label class="col-sm-4 control-label">Cantidad:</label>
                            <div class="col-sm-8">
                                <input type="number"   maxlength="20" required   class="form-control input-sm"  ng-model="datos.cantidad"/>
                            </div>

                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group margin-bottom-5">
                            <label class="col-sm-3 control-label">Local:</label>
                            <div class="col-sm-9">
                                <select id="taller"   class="form-control input-sm"
                                        ng-model=datos.sucursal>
                                    <option value> --Seleccionar --</option>
                                    <option ng-repeat="c in listaTaller"
                                            value="{{c.valor}}">{{c.valor}}</option>

                                </select>
                            </div>

                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-group margin-bottom-5">
                            <input  ng-disabled="!datos.cantidad || !datos.sucursal || inhabilitarAgregar" type="button" ng-click="agregar()"  class="btn btn-primary btn-sm" value="Agregar" />
                            <input type="button" ng-click ="limpiar()" class="btn btn-warning btn-sm" value="Limpiar"/>
                            <input ng-show="lista.length > 0" type="button" ng-click="guardar()"  class="btn btn-success btn-sm" value="Guardar" />
                        </div>
                    </div>
                </div>
            </div>
            <span style="color:green;font-style:oblique;" ng-show="articuloValido">Articulo encontrado</span>
        </form>

    </div>
</div>
<!--<div class="row">-->
<!--<div class="form-group">-->
<!--<div class="col-sm-10">-->
<!--<input type="button" ng-click="agregar()"  class="btn btn-primary btn-sm" value="Agregar" />-->
<!--</div>-->
<!--</div>-->
<!--</div>-->

<div class="panel panel-default" ng-show="lista.length > 0">
    <div  id="div1">
        <table class="table" >
            <thead>
            <tr>
                <th>Codigo</th>
                <th>Descripcion</th>
                <th>Cantidad</th>
                <th>Sucursal</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="item in lista">
                <td>{{item.codigo}}</td>
                <td>{{item.descripcion}}</td>
                <td>{{item.cantidad}}</td>
                <td>{{item.sucursal}}</td>
                <td>
                    <button ng-click="remove($index)" class="btn btn-danger btn-xs">Eliminar</button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>



</body>
</html>